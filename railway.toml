[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"
# Ne déployer que si backend/frontend (widget) change, pas landing/
watchPatterns = ["backend/**", "frontend/**", "requirements.txt", "Dockerfile", "railway.toml", "migrations/**", "scripts/**", ".dockerignore"]

[deploy]
# Healthcheck désactivé : le deploy réussit sans attendre /health (voir docs/RAILWAY_HEALTHCHECK.md).
# Réactiver après avoir vérifié les logs et que l'app répond sur l'URL du service.
# healthcheckPath = "/health"
# healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
