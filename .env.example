# --- Auth client (B2B : login email+mdp + Google SSO, cookie uwi_session) ---
# Secret pour signer le JWT de session client (login + Google callback)
JWT_SECRET=your-jwt-secret-at-least-32-chars
# SESSION_SECRET=...   # fallback si JWT_SECRET absent
SESSION_COOKIE_NAME=uwi_session
SESSION_TTL_SECONDS=2592000
# Cookie cross-domain (front Vercel ↔ API Railway) : Secure + SameSite=None
COOKIE_SECURE=true
COOKIE_SAMESITE=none

# Google SSO (optionnel ; si définis : GET /api/auth/google/start, POST /api/auth/google/callback)
# GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=xxx
# GOOGLE_REDIRECT_URI=https://www.uwiapp.com/auth/google/callback
# GOOGLE_OAUTH_SCOPES=openid email profile

# --- Admin API (onboarding + dashboard uwiapp.com) ---
ADMIN_API_TOKEN=your-secret-admin-token

# Admin connexion email + mot de passe (cookie session) — optionnel si vous utilisez le token ci-dessus
# Si définis : POST /api/admin/auth/login pose un cookie HttpOnly (uwi_admin_session)
ADMIN_EMAIL=admin@example.com
# En prod : préférer ADMIN_PASSWORD_HASH (bcrypt). Sinon ADMIN_PASSWORD en clair (déprécié).
# Générer un hash : python -c "import bcrypt; print(bcrypt.hashpw(b'votre_mot_de_passe', bcrypt.gensalt()).decode())"
# ADMIN_PASSWORD_HASH=$2b$12$...
ADMIN_PASSWORD=your-secure-password
# JWT_SECRET (ou ADMIN_SESSION_SECRET) : signe le cookie de session admin.
# JWT_SECRET=your-jwt-secret
# Session : expiration en heures (défaut 8)
# ADMIN_SESSION_EXPIRES_HOURS=8
# Front = uwiapp.com (Vercel), API = Railway → domaines différents → obligatoire en prod pour le cookie admin
ADMIN_COOKIE_SAMESITE=none

# Railway / déploiement (prod)
# PORT=8000                    # fourni par Railway
# RAILWAY_PUBLIC_DOMAIN=xxx.railway.app   # pour keep-alive + webhook Vapi

# Google Calendar (obligatoire pour slots/booking en prod)
# GOOGLE_SERVICE_ACCOUNT_BASE64=eyJ0eXBlIjoi...   # JSON Service Account encodé base64
# GOOGLE_CALENDAR_ID=xxx@group.calendar.google.com

# Rapport quotidien IVR — destinataire admin
REPORT_EMAIL=henigoutal@gmail.com
REPORT_SECRET=votre_secret_rapport

# Demande ordonnance (message) — destinataire notification
# Si non défini, REPORT_EMAIL (ou OWNER_EMAIL) est utilisé pour recevoir les demandes d'ordonnance
NOTIFICATION_EMAIL=cabinet@exemple.fr

# LLM Assist (zone grise START — optionnel, canary)
# LLM_ASSIST_ENABLED=false
# ANTHROPIC_API_KEY=sk-ant-...
# LLM_ASSIST_TIMEOUT_MS=900
# LLM_ASSIST_MIN_CONFIDENCE=0.70
# LLM_ASSIST_MAX_TEXT_LEN=120

# P0 Mode conversationnel (START uniquement) : réponses naturelles LLM + placeholders, fallback FSM
CONVERSATIONAL_MODE_ENABLED=false
CONVERSATIONAL_CANARY_PERCENT=0
CONVERSATIONAL_MIN_CONFIDENCE=0.75

# Rapport quotidien — Postmark (prod recommandé sur Railway)
# EMAIL_PROVIDER=postmark
# POSTMARK_SERVER_TOKEN=pk_live_xxxxxxxxx
# EMAIL_FROM=hello@uwiapp.com
# REPORT_EMAIL=henigoutal@gmail.com

# SMTP (fallback : rapports + notifications ordonnance)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_EMAIL=votre_compte@gmail.com
# SMTP_PASSWORD=votre_mot_de_passe_app
